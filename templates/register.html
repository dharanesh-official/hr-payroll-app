{% extends "base.html" %}

{% block title %}Register New User{% endblock %}

{% block content %}
<div class="card">
  <h2>Register a New User</h2>
  <form method="post">
    <div>
      <label for="employee_id">Employee ID</label>
      <input type="text" id="employee_id" name="employee_id" required>
    </div>
    <div>
      <label for="name">Full Name</label>
      <input type="text" id="name" name="name" required>
    </div>
    <div>
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required>
    </div>
    <div>
      <label for="phone_number">Phone Number</label>
      <input type="text" id="phone_number" name="phone_number">
    </div>
    <div>
      <label for="address">Address</label>
      <input type="text" id="address" name="address">
    </div>
    <div>
      <label for="date_of_joining">Date of Joining</label>
      <input type="date" id="date_of_joining" name="date_of_joining" required>
    </div>
    <div>
      <label for="salary">Salary (â‚¹)</label>
      <input type="number" step="0.01" id="salary" name="salary" required>
    </div>

    {% if current_user.role == 'hr' %}
    <div>
      <label for="role">Role</label>
      <select id="role" name="role" required>
        <option value="employee">Employee</option>
        <option value="supervisor">Supervisor</option>
        <option value="hr">HR</option>
      </select>
    </div>
    <div>
        <label for="supervisor_id">Assign Supervisor</label>
        <select id="supervisor_id" name="supervisor_id">
            <option value="">None</option> {% for supervisor in supervisors %}
                <option value="{{ supervisor.id }}">{{ supervisor.name }} ({{ supervisor.employee_id }})</option>
            {% endfor %}
        </select>
    </div>
    {% endif %}

     <div>
      <label for="password">Password</label>
      <input type="password" id="password" name="password" required>
    </div>
    <button type="submit">Register User</button>
  </form>
</div>
{% endblock %}